# ==============================================================================
# Ghostty Configuration — best-ghostty-config
# ==============================================================================
#
# QUICK REFERENCE
#
#   Ctrl+`              Quick terminal (global — works from any app)
#   Cmd+T               New tab             Cmd+W            Close pane
#   Cmd+Shift+W         Close tab           Cmd+1–9          Jump to tab
#   Cmd+Shift+←/→       Switch tabs         Cmd+Ctrl+Shift+←/→  Move tab
#   Cmd+D               Split right         Cmd+Shift+D      Split down
#   Cmd+Alt+Arrow       Focus split         Cmd+Ctrl+Arrow   Resize split
#   Cmd+Shift+E         Equalize splits     Cmd+Shift+F      Zoom split
#   Cmd+Shift+P         Command palette     Cmd+Shift+,      Reload config
#   Cmd+Shift+S         Secure input        Cmd+Shift+I      Inspector
#   Shift+Return        Newline (e.g. Claude Code multiline input)
#   Cmd+= / - / 0      Font size            Ctrl+Cmd+F       Fullscreen
#
#   tmux prefix: Ctrl+Space (fallback: Ctrl+A)
#   Full tmux cheat sheet: see tmux.conf or docs/cheatsheet/keybindings.md
#
# ==============================================================================

# --- Typography ---
font-family = JetBrains Mono
font-size = 15
font-thicken = true
adjust-cell-height = 2
font-feature = calt
font-feature = liga

# --- Theme ---
# Auto-switches with macOS system appearance
theme = light:Catppuccin Latte,dark:Catppuccin Mocha
window-theme = auto

# --- Window ---
background-opacity = 0.8
background-blur = 20
macos-titlebar-style = tabs
window-colorspace = display-p3
window-padding-x = 12
window-padding-y = 12
window-padding-balance = true
window-height = 30
window-width = 120
window-save-state = always
window-inherit-working-directory = true
confirm-close-surface = false

# --- Cursor ---
cursor-style = bar
cursor-style-blink = true
cursor-opacity = 0.9
cursor-color = cell-foreground

# --- Splits ---
unfocused-split-opacity = 0.85

# --- Quick Terminal ---
# Ctrl+` from anywhere on macOS. Requires Accessibility + Login Items.
quick-terminal-position = top
quick-terminal-screen = mouse
quick-terminal-autohide = true
quick-terminal-animation-duration = 0.15

# --- Mouse ---
mouse-hide-while-typing = true
copy-on-select = clipboard
link-url = true
mouse-scroll-multiplier = 2

# --- Shell Integration ---
shell-integration = detect
shell-integration-features = no-cursor,sudo,title,ssh-env,ssh-terminfo

# --- Clipboard ---
clipboard-paste-protection = true
clipboard-paste-bracketed-safe = true
clipboard-read = allow
clipboard-write = allow
clipboard-trim-trailing-spaces = true

# --- macOS ---
macos-option-as-alt = left
macos-window-shadow = true

# --- tmux ---
# Each Ghostty tab gets its own tmux session (main, main-2, main-3, ...).
# To use Ghostty without tmux, comment out the line below.
command = ~/.config/ghostty/ghostty-tmux.sh

# --- Scrollback ---
scrollback-limit = 25000000

# ==============================================================================
# Keybindings
# ==============================================================================

# Global
keybind = global:ctrl+grave_accent=toggle_quick_terminal

# App
keybind = shift+enter=text:\x1b\r
keybind = cmd+shift+p=toggle_command_palette
keybind = ctrl+cmd+f=toggle_fullscreen
keybind = cmd+shift+comma=reload_config
keybind = cmd+shift+s=toggle_secure_input
keybind = cmd+shift+i=inspector:toggle

# Tabs  —  Cmd+T new | Cmd+W close pane | Cmd+Shift+W close tab
keybind = cmd+t=new_tab
keybind = cmd+w=close_surface
keybind = cmd+shift+w=close_tab
keybind = cmd+shift+left=previous_tab
keybind = cmd+shift+right=next_tab
keybind = cmd+1=goto_tab:1
keybind = cmd+2=goto_tab:2
keybind = cmd+3=goto_tab:3
keybind = cmd+4=goto_tab:4
keybind = cmd+5=goto_tab:5
keybind = cmd+6=goto_tab:6
keybind = cmd+7=goto_tab:7
keybind = cmd+8=goto_tab:8
keybind = cmd+9=goto_tab:9
keybind = cmd+ctrl+shift+left=move_tab:-1
keybind = cmd+ctrl+shift+right=move_tab:1

# Splits  —  Cmd+D right | Cmd+Shift+D down | Cmd+Alt+Arrow navigate | Cmd+Ctrl+Arrow resize
keybind = cmd+d=new_split:right
keybind = cmd+shift+d=new_split:down
keybind = cmd+alt+left=goto_split:left
keybind = cmd+alt+right=goto_split:right
keybind = cmd+alt+up=goto_split:top
keybind = cmd+alt+down=goto_split:bottom
keybind = cmd+ctrl+left=resize_split:left,10
keybind = cmd+ctrl+right=resize_split:right,10
keybind = cmd+ctrl+up=resize_split:up,10
keybind = cmd+ctrl+down=resize_split:down,10
keybind = cmd+shift+e=equalize_splits
keybind = cmd+shift+f=toggle_split_zoom

# Font  —  Cmd+= bigger | Cmd+- smaller | Cmd+0 reset
keybind = cmd+equal=increase_font_size:1
keybind = cmd+minus=decrease_font_size:1
keybind = cmd+0=reset_font_size
